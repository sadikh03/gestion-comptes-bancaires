<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    
    <!-- Header -->
    <div class="flex items-center justify-between mb-8">
      <div class="flex items-center space-x-4">
       <button 
  routerLink="/clients"
  class="flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors duration-200 shadow-sm hover:shadow-md"
>
  <i class="fas fa-arrow-left mr-2"></i>
  Retour
</button>
        <div>
          <h1 class="text-3xl font-bold text-gray-900">Nouveau Client</h1>
          <p class="text-gray-600 mt-1">Ajoutez un nouveau client à votre portefeuille</p>
        </div>
      </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
      
      <!-- Partie Gauche - Formulaire -->
      <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6">
        <h2 class="text-xl font-semibold text-gray-900 mb-6 flex items-center">
          <div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3">
            <i class="fas fa-edit text-blue-600 text-sm"></i>
          </div>
          Informations du client
        </h2>

        <form [formGroup]="clientForm" (ngSubmit)="onSubmit()">
          <div class="space-y-6">
            
            <!-- Nom et Prénom -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                  Prénom <span class="text-red-500">*</span>
                </label>
                <input 
                  type="text"
                  formControlName="firstName"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
                  placeholder="Entrez le prénom"
                  [class]="{
                    'border-red-300': clientForm.get('firstName')?.invalid && clientForm.get('firstName')?.touched,
                    'border-green-300': clientForm.get('firstName')?.valid && clientForm.get('firstName')?.touched
                  }"
                >
                <div *ngIf="clientForm.get('firstName')?.invalid && clientForm.get('firstName')?.touched" 
                     class="text-red-500 text-sm mt-1">
                  Le prénom est requis
                </div>
              </div>

              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">
                  Nom <span class="text-red-500">*</span>
                </label>
                <input 
                  type="text"
                  formControlName="lastName"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
                  placeholder="Entrez le nom"
                  [class]="{
                    'border-red-300': clientForm.get('lastName')?.invalid && clientForm.get('lastName')?.touched,
                    'border-green-300': clientForm.get('lastName')?.valid && clientForm.get('lastName')?.touched
                  }"
                >
                <div *ngIf="clientForm.get('lastName')?.invalid && clientForm.get('lastName')?.touched" 
                     class="text-red-500 text-sm mt-1">
                  Le nom est requis
                </div>
              </div>
            </div>

            <!-- Email -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Email <span class="text-red-500">*</span>
              </label>
              <input 
                type="email"
                formControlName="email"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
                placeholder="client@exemple.com"
                [class]="{
                  'border-red-300': clientForm.get('email')?.invalid && clientForm.get('email')?.touched,
                  'border-green-300': clientForm.get('email')?.valid && clientForm.get('email')?.touched
                }"
              >
              <div *ngIf="clientForm.get('email')?.errors?.['required'] && clientForm.get('email')?.touched" 
                   class="text-red-500 text-sm mt-1">
                L'email est requis
              </div>
              <div *ngIf="clientForm.get('email')?.errors?.['email'] && clientForm.get('email')?.touched" 
                   class="text-red-500 text-sm mt-1">
                Format d'email invalide
              </div>
            </div>

            <!-- Téléphone -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Téléphone <span class="text-red-500">*</span>
              </label>
              <input 
                type="tel"
                formControlName="phoneNumbers"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
                placeholder="+33 1 23 45 67 89"
                [class]="{
                  'border-red-300': clientForm.get('phoneNumbers')?.invalid && clientForm.get('phoneNumbers')?.touched,
                  'border-green-300': clientForm.get('phoneNumbers')?.valid && clientForm.get('phoneNumbers')?.touched
                }"
              >
              <div *ngIf="clientForm.get('phoneNumbers')?.invalid && clientForm.get('phoneNumbers')?.touched" 
                   class="text-red-500 text-sm mt-1">
                Le téléphone est requis
              </div>
            </div>

            <!-- Adresse -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Adresse <span class="text-red-500">*</span>
              </label>
              <textarea 
                formControlName="address"
                rows="3"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200 resize-none"
                placeholder="Adresse complète du client"
                [class]="{
                  'border-red-300': clientForm.get('address')?.invalid && clientForm.get('address')?.touched,
                  'border-green-300': clientForm.get('address')?.valid && clientForm.get('address')?.touched
                }"
              ></textarea>
              <div *ngIf="clientForm.get('address')?.invalid && clientForm.get('address')?.touched" 
                   class="text-red-500 text-sm mt-1">
                L'adresse est requise
              </div>
            </div>

            <!-- Date de naissance -->
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-2">
                Date de naissance
              </label>
              <input 
                type="date"
                formControlName="birthday"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"
              >
            </div>

            <!-- Boutons -->
            <div class="flex space-x-4 pt-4">
              <button
                type="button"
                routerLink="/clients"
                class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center"
              >
                <i class="fas fa-times mr-2"></i>
                Annuler
              </button>
              <button
                type="submit"
                [disabled]="clientForm.invalid || isLoading"
                class="flex-1 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white py-3 px-6 rounded-lg font-semibold transition-colors duration-200 flex items-center justify-center"
              >
                <i class="fas fa-save mr-2" [class.hidden]="isLoading"></i>
                <i class="fas fa-spinner fa-spin mr-2" [class.hidden]="!isLoading"></i>
                {{ isLoading ? 'Création...' : 'Créer le client' }}
              </button>
            </div>

          </div>
        </form>
      </div>

      <!-- Partie Droite - Prévisualisation -->
      <div class="bg-white rounded-2xl shadow-sm border border-gray-200 p-6 h-fit sticky top-8">
        <h2 class="text-xl font-semibold text-gray-900 mb-6 flex items-center">
          <div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center mr-3">
            <i class="fas fa-eye text-green-600 text-sm"></i>
          </div>
          Aperçu du client
        </h2>

        <div class="bg-gray-50 rounded-xl p-6 border border-gray-200">
          <!-- Avatar et nom -->
          <div class="flex items-center space-x-4 mb-6">
            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white font-bold text-xl">
              {{ (clientForm.get('firstName')?.value?.charAt(0) || '') + (clientForm.get('lastName')?.value?.charAt(0) || '') }}
            </div>
            <div>
              <h3 class="text-lg font-bold text-gray-900">
                {{ clientForm.get('firstName')?.value || 'Prénom' }} {{ clientForm.get('lastName')?.value || 'Nom' }}
              </h3>
              <p class="text-blue-600 text-sm">Nouveau client</p>
            </div>
          </div>

          <!-- Informations -->
          <div class="space-y-4">
            <div class="flex items-center space-x-3">
              <i class="fas fa-envelope text-gray-400 w-5"></i>
              <div>
                <p class="text-gray-500 text-xs">Email</p>
                <p class="text-gray-900 text-sm">{{ clientForm.get('email')?.value || 'Non renseigné' }}</p>
              </div>
            </div>

            <div class="flex items-center space-x-3">
              <i class="fas fa-phone text-gray-400 w-5"></i>
              <div>
                <p class="text-gray-500 text-xs">Téléphone</p>
                <p class="text-gray-900 text-sm">{{ clientForm.get('phoneNumbers')?.value || 'Non renseigné' }}</p>
              </div>
            </div>

            <div class="flex items-start space-x-3">
              <i class="fas fa-map-marker-alt text-gray-400 w-5 mt-0.5"></i>
              <div>
                <p class="text-gray-500 text-xs">Adresse</p>
                <p class="text-gray-900 text-sm">{{ clientForm.get('address')?.value || 'Non renseignée' }}</p>
              </div>
            </div>

            <div class="flex items-center space-x-3" *ngIf="clientForm.get('birthday')?.value">
              <i class="fas fa-birthday-cake text-gray-400 w-5"></i>
              <div>
                <p class="text-gray-500 text-xs">Date de naissance</p>
                <p class="text-gray-900 text-sm">{{ clientForm.get('birthday')?.value | date:'dd/MM/yyyy' }}</p>
              </div>
            </div>
          </div>

          <!-- Indicateur de validation -->
          <div class="mt-6 p-4 rounded-lg" [class]="clientForm.valid ? 'bg-green-50 border border-green-200' : 'bg-yellow-50 border border-yellow-200'">
            <div class="flex items-center space-x-3">
              <i [class]="clientForm.valid ? 'fas fa-check-circle text-green-500' : 'fas fa-exclamation-triangle text-yellow-500'"></i>
              <div>
                <p class="text-sm font-medium" [class]="clientForm.valid ? 'text-green-800' : 'text-yellow-800'">
                  {{ clientForm.valid ? 'Formulaire valide' : 'Formulaire incomplet' }}
                </p>
                <p class="text-xs" [class]="clientForm.valid ? 'text-green-600' : 'text-yellow-600'">
                  {{ clientForm.valid ? 'Prêt à créer le client' : 'Remplissez tous les champs obligatoires' }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</div>