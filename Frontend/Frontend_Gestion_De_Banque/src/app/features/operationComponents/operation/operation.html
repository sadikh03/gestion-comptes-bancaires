<div class="bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 hover:-translate-y-1">
  
  <!-- Header de la carte avec couleur selon le type -->
  <div class="p-4 border-b" [class]="getHeaderColor(operation.operationType)">
    <div class="flex items-center justify-between">
      <div class="flex items-center space-x-3">
        <!-- Icône avec couleur -->
        <div class="w-10 h-10 rounded-lg flex items-center justify-center" [class]="getIconBgColor(operation.operationType)">
          <i [class]="getOperationIcon(operation.operationType)" [class]="getIconColor(operation.operationType)"></i>
        </div>
        <div>
          <h3 class="font-semibold text-sm" [class]="getTitleColor(operation.operationType)">
            {{ getOperationTypeLabel(operation.operationType) }}
          </h3>
          <p class="text-xs" [class]="getSubtitleColor(operation.operationType)">
            {{ operation.operationDate | date:'dd/MM/yyyy HH:mm' }}
          </p>
        </div>
      </div>
      <span class="text-xs font-mono" [class]="getBadgeColor(operation.operationType)">
        {{ operation.opereationNumber || 'OP' + operation.id }}
      </span>
    </div>
  </div>

  <!-- Corps de la carte -->
  <div class="p-4 space-y-4">
    
    <!-- Montant avec couleur selon le type -->
    <div class="flex justify-between items-center">
      <span class="text-gray-600 text-sm">Montant</span>
      <span class="font-semibold text-lg" [class]="getAmountColor(operation.operationType)">
        {{ operation.amount | number:'1.2-2' }} {{ operation.account?.currency || 'CFA' }}
      </span>
    </div>

    <!-- Compte -->
    <div class="flex justify-between items-start">
      <span class="text-gray-600 text-sm">Compte</span>
      <div class="text-right">
        <span class="font-medium text-gray-900 text-sm font-mono block">
          {{ operation.account?.accountNumber }}
        </span>
        <span class="text-gray-500 text-xs block mt-1">
          Solde: {{ operation.account?.balance | number:'1.2-2' }} {{ operation.account?.currency }}
        </span>
      </div>
    </div>

    <!-- Client -->
    <div class="flex justify-between items-start">
      <span class="text-gray-600 text-sm">Client</span>
      <div class="text-right">
        <span class="font-medium text-gray-900 text-sm block">
          {{ operation.account?.client?.firstName }} {{ operation.account?.client?.lastName }}
        </span>
        <span class="text-gray-500 text-xs block mt-1">
          {{ operation.account?.client?.email }}
        </span>
      </div>
    </div>

    <!-- Information transfert (si c'est un retrait lié à un transfert) -->
    <div *ngIf="isTransferOperation(operation)" class="p-3 bg-blue-50 rounded-lg border border-blue-200">
      <div class="flex items-center space-x-2 text-blue-700 text-xs">
        <i class="fas fa-exchange-alt"></i>
        <span>Opération liée à un transfert</span>
      </div>
    </div>

  </div>

  <!-- Footer de la carte -->
  <div class="p-4 pt-3 border-t border-gray-100 bg-gray-50">
    <div class="flex justify-between items-center text-xs">
      <span class="text-gray-500 flex items-center">
        <i class="fas fa-clock mr-1"></i>
        {{ getTimeAgo(operation.operationDate) }}
      </span>
      <span class="text-gray-400 text-xs">
        {{ operation.operationDate | date:'HH:mm' }}
      </span>
    </div>
  </div>

</div>